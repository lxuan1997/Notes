import{_ as r,M as o,p as d,q as y,N as a,R as n,t as s,U as e,a1 as p}from"./framework-9bc128ed.js";const m={},f=n("h1",{id:"在vue中使用fabric",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#在vue中使用fabric","aria-hidden":"true"},"#"),s(" 在vue中使用fabric")],-1),g=n("h2",{id:"基本用法",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#基本用法","aria-hidden":"true"},"#"),s(" 基本用法")],-1),h=p(`<h2 id="常用功能" tabindex="-1"><a class="header-anchor" href="#常用功能" aria-hidden="true">#</a> 常用功能</h2><h3 id="添加元素" tabindex="-1"><a class="header-anchor" href="#添加元素" aria-hidden="true">#</a> 添加元素</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 只能生成一种类型 如Rect</span>
<span class="token keyword">function</span> <span class="token function">addRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fabric<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// options</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    canvas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
    canvas<span class="token punctuation">.</span><span class="token function">requestRenderAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 可批量生成各种类型</span>
<span class="token keyword">function</span> <span class="token function">addObjectbyType</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> klass <span class="token operator">=</span> fabric<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">getKlass</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
    klass<span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        canvas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        canvas<span class="token punctuation">.</span><span class="token function">requestRenderAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="添加svg" tabindex="-1"><a class="header-anchor" href="#添加svg" aria-hidden="true">#</a> 添加svg</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// svg地址加载</span>
<span class="token keyword">function</span> <span class="token function">loadSVGFromURL</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fabric<span class="token punctuation">.</span><span class="token function">loadSVGFromURL</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">objects</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> group <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fabric<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span>objects<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token comment">// options</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        canvas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span>
        canvas<span class="token punctuation">.</span><span class="token function">requestRenderAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// svg字符串加载</span>
<span class="token keyword">function</span> <span class="token function">loadSVGFromString</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fabric<span class="token punctuation">.</span><span class="token function">loadSVGFromString</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">objects</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> group <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fabric<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span>objects<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token comment">// options</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        canvas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span>
        canvas<span class="token punctuation">.</span><span class="token function">requestRenderAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="添加图片" tabindex="-1"><a class="header-anchor" href="#添加图片" aria-hidden="true">#</a> 添加图片</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">addImage</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fabric<span class="token punctuation">.</span>Image<span class="token punctuation">.</span><span class="token function">fromURL</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>width<span class="token punctuation">}</span> <span class="token operator">=</span> image
        <span class="token keyword">const</span> initialScale <span class="token operator">=</span> <span class="token number">200</span> <span class="token operator">/</span> width
        image<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">scaleX</span><span class="token operator">:</span> initialScale<span class="token punctuation">,</span>
            <span class="token literal-property property">scaleY</span><span class="token operator">:</span> initialScale<span class="token punctuation">,</span>
            <span class="token comment">// options</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        canvas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>
        canvas<span class="token punctuation">.</span><span class="token function">setActiveObject</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="画布数据导入、导出" tabindex="-1"><a class="header-anchor" href="#画布数据导入、导出" aria-hidden="true">#</a> 画布数据导入、导出</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 导入</span>
<span class="token keyword">function</span> <span class="token function">dataImport</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    canvas<span class="token punctuation">.</span><span class="token function">loadFromJSON</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// callback</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 导出</span>
<span class="token keyword">function</span> <span class="token function">dataExport</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> canvas<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="画布保存为图片" tabindex="-1"><a class="header-anchor" href="#画布保存为图片" aria-hidden="true">#</a> 画布保存为图片</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 图片形式</span>
<span class="token keyword">function</span> <span class="token function">saveAsImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dataUrl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&#39;image/jpeg&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>
    link<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">&#39;画布.png&#39;</span>
    link<span class="token punctuation">.</span>href <span class="token operator">=</span> dataUrl
    link<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="元素编组、取消编组" tabindex="-1"><a class="header-anchor" href="#元素编组、取消编组" aria-hidden="true">#</a> 元素编组、取消编组</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 编组</span>
<span class="token keyword">function</span> <span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeObject <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getActiveObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activeObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>activeObject<span class="token punctuation">.</span>type <span class="token operator">!==</span> <span class="token string">&#39;activeSelection&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    activeObject<span class="token punctuation">.</span><span class="token function">toGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    canvas<span class="token punctuation">.</span><span class="token function">requestRenderAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 取消编组</span>
<span class="token keyword">function</span> <span class="token function">unGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeObject <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getActiveObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activeObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>activeObject<span class="token punctuation">.</span>type <span class="token operator">!==</span> <span class="token string">&#39;group&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    activeObject<span class="token punctuation">.</span><span class="token function">toActiveSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    canvas<span class="token punctuation">.</span><span class="token function">requestRenderAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="调整元素层级" tabindex="-1"><a class="header-anchor" href="#调整元素层级" aria-hidden="true">#</a> 调整元素层级</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 移至顶层</span>
<span class="token keyword">function</span> <span class="token function">bringToFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeObject <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getActiveObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activeObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    activeObject<span class="token punctuation">.</span><span class="token function">bringToFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 移至底层</span>
<span class="token keyword">function</span> <span class="token function">sendToBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeObject <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getActiveObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activeObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> canvas<span class="token punctuation">.</span>freeLayerIndexMinLimit <span class="token operator">||</span> <span class="token number">0</span>
    activeObject<span class="token punctuation">.</span><span class="token function">sendToBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 往上一层</span>
<span class="token keyword">function</span> <span class="token function">bringForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeObject <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getActiveObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activeObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    activeObject<span class="token punctuation">.</span><span class="token function">bringForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 往下一层</span>
<span class="token keyword">function</span> <span class="token function">sendBackwards</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeObject <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getActiveObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activeObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    activeObject<span class="token punctuation">.</span><span class="token function">sendBackwards</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 指定层级</span>
<span class="token keyword">function</span> <span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> activeObject <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getActiveObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>activeObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    activeObject<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="视图自适应" tabindex="-1"><a class="header-anchor" href="#视图自适应" aria-hidden="true">#</a> 视图自适应</h3>`,16),b={class:"custom-container tip"},w=n("p",{class:"custom-container-title"},"TIP",-1),x={href:"https://www.hangge.com/blog/cache/detail_1861.html",target:"_blank",rel:"noopener noreferrer"},v=p(`<div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>fabric<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;fabric&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useZoomToFit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">canvas</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> objects <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getObjects</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> minX<span class="token punctuation">,</span> minY<span class="token punctuation">,</span> maxX<span class="token punctuation">,</span> maxY
    <span class="token keyword">if</span> <span class="token punctuation">(</span>objects<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> rect <span class="token operator">=</span> objects<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getBoundingRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        minX <span class="token operator">=</span> rect<span class="token punctuation">.</span>left
        minY <span class="token operator">=</span> rect<span class="token punctuation">.</span>top
        maxX <span class="token operator">=</span> rect<span class="token punctuation">.</span>left <span class="token operator">+</span> rect<span class="token punctuation">.</span>width
        maxY <span class="token operator">=</span> rect<span class="token punctuation">.</span>top <span class="token operator">+</span> rect<span class="token punctuation">.</span>height
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> objects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            rect <span class="token operator">=</span> objects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getBoundingRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            minX <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>minX<span class="token punctuation">,</span> rect<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
            minY <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>minY<span class="token punctuation">,</span> rect<span class="token punctuation">.</span>top<span class="token punctuation">)</span>
            maxX <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxX<span class="token punctuation">,</span> rect<span class="token punctuation">.</span>left <span class="token operator">+</span> rect<span class="token punctuation">.</span>width<span class="token punctuation">)</span>
            maxY <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxY<span class="token punctuation">,</span> rect<span class="token punctuation">.</span>top <span class="token operator">+</span> rect<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 计算平移坐标</span>
    <span class="token keyword">const</span> panX <span class="token operator">=</span> <span class="token punctuation">(</span>maxX <span class="token operator">-</span> minX <span class="token operator">-</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> minX
    <span class="token keyword">const</span> panY <span class="token operator">=</span> <span class="token punctuation">(</span>maxY <span class="token operator">-</span> minY <span class="token operator">-</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> minY
    <span class="token comment">// 开始平移</span>
    canvas<span class="token punctuation">.</span><span class="token function">absolutePan</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">x</span><span class="token operator">:</span> panX<span class="token punctuation">,</span>
        <span class="token literal-property property">y</span><span class="token operator">:</span> panY
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 计算缩放比例</span>
    <span class="token keyword">const</span> zoom <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token punctuation">(</span>maxX <span class="token operator">-</span> minX<span class="token punctuation">)</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token punctuation">(</span>maxY <span class="token operator">-</span> minY<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 计算缩放中心</span>
    <span class="token keyword">const</span> zoomPoint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fabric<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;zoom&#39;</span><span class="token punctuation">,</span> zoom<span class="token punctuation">,</span> zoomPoint<span class="token punctuation">)</span>
    <span class="token comment">// 开始缩放</span>
    canvas<span class="token punctuation">.</span><span class="token function">zoomToPoint</span><span class="token punctuation">(</span>zoomPoint<span class="token punctuation">,</span> zoom<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="拓展功能" tabindex="-1"><a class="header-anchor" href="#拓展功能" aria-hidden="true">#</a> 拓展功能</h2><h3 id="自定义control" tabindex="-1"><a class="header-anchor" href="#自定义control" aria-hidden="true">#</a> 自定义Control</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 统一隐藏控制  [&#39;mb&#39;, &#39;ml&#39;, &#39;mr&#39;, &#39;mt&#39;, &#39;mtr&#39;]</span>
<span class="token keyword">const</span> hiddenControls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;mtr&#39;</span><span class="token punctuation">]</span>
hiddenControls<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    fabric<span class="token punctuation">.</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>controls<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
fabric<span class="token punctuation">.</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>transparentCorners <span class="token operator">=</span> <span class="token boolean">false</span>
fabric<span class="token punctuation">.</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>cornerSize <span class="token operator">=</span> <span class="token number">8</span>


fabric<span class="token punctuation">.</span><span class="token class-name">Textbox</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>controls <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 类型单独设置</span>
fabric<span class="token punctuation">.</span><span class="token class-name">Rect</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>controls <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
fabric<span class="token punctuation">.</span><span class="token class-name">Textbox</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>controls <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="自定义属性导出" tabindex="-1"><a class="header-anchor" href="#自定义属性导出" aria-hidden="true">#</a> 自定义属性导出</h3>`,5),j={class:"custom-container tip"},_=n("p",{class:"custom-container-title"},"TIP",-1),O={href:"https://github.com/fabricjs/fabric.js/wiki/How-to-set-additional-properties-in-all-fabric.Objects",target:"_blank",rel:"noopener noreferrer"},T=p(`<div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> originalToObject <span class="token operator">=</span> fabric<span class="token punctuation">.</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toObject<span class="token punctuation">;</span>
<span class="token keyword">const</span> myAdditional <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
fabric<span class="token punctuation">.</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toObject</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">additionalProperties</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">originalToObject</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> myAdditional<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>additionalProperties<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="文本组合图形" tabindex="-1"><a class="header-anchor" href="#文本组合图形" aria-hidden="true">#</a> 文本组合图形</h3>`,2),A={class:"custom-container tip"},G=n("p",{class:"custom-container-title"},"TIP",-1),I=n("p",null,[s("组合图形本质上是通过"),n("code",null,"fabric.Group"),s("实现，以文本框加矩形"),n("code",null,"Textbox + Rect"),s("为例")],-1),C=n("p",null,[s("需要注意的是"),n("code",null,"Textbox"),s("在"),n("code",null,"Group"),s("内是无法进行编辑的，需要另外编写代码实现组合图形内的文本编辑；")],-1),Y={class:"task-list-container"},X={class:"task-list-item"},S=n("input",{type:"checkbox",class:"task-list-item-checkbox",id:"task-item-0",checked:"checked",disabled:"disabled"},null,-1),W={class:"task-list-item-label",for:"task-item-0"},J={href:"https://jelly.jd.com/article/6151e9512685d0019947558d",target:"_blank",rel:"noopener noreferrer"},M={class:"task-list-item"},V=n("input",{type:"checkbox",class:"task-list-item-checkbox",id:"task-item-1",checked:"checked",disabled:"disabled"},null,-1),B={class:"task-list-item-label",for:"task-item-1"},R={href:"https://jelly.jd.com/article/62bd77e952d2600188a9fdac",target:"_blank",rel:"noopener noreferrer"},Z={class:"task-list-item"},F=n("input",{type:"checkbox",class:"task-list-item-checkbox",id:"task-item-2",checked:"checked",disabled:"disabled"},null,-1),H={class:"task-list-item-label",for:"task-item-2"},P=n("code",null,"Group",-1),z=n("code",null,"Group",-1),L=n("code",null,"Textbox",-1),N={href:"http://jsfiddle.net/qxdk4h9L/2/",target:"_blank",rel:"noopener noreferrer"},D=n("div",{class:"language-javascript","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("fabric"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'fabric'"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("v4 "),n("span",{class:"token keyword"},"as"),s(" uuid"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"uuid"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("TempText"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'./tempText.mixin'"),s(`

`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"DEFAULT_SHAPE_PADDING_X"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"8"),s(`

fabric`),n("span",{class:"token punctuation"},"."),s("RectText "),n("span",{class:"token operator"},"="),s(" fabric"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"createClass"),n("span",{class:"token punctuation"},"("),s("fabric"),n("span",{class:"token punctuation"},"."),s("Group"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'rect-text'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"width"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"60"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"height"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"40"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"fill"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'#666666'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"fontSize"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"16"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"textAlign"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'center'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"lineHeight"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"stroke"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'#000000'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"subTargetCheck"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function-variable function"},"initialize"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("options"),n("span",{class:"token punctuation"},","),s(" isAlreadyGrouped")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        options `),n("span",{class:"token operator"},"="),s(" options "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
        options`),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token function"},"uuid"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        options`),n("span",{class:"token punctuation"},"."),s("width "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("width "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`width
        options`),n("span",{class:"token punctuation"},"."),s("height "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("height "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`height
        options`),n("span",{class:"token punctuation"},"."),s("fill "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("fill "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`fill
        options`),n("span",{class:"token punctuation"},"."),s("fontSize "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("fontSize "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`fontSize
        options`),n("span",{class:"token punctuation"},"."),s("textAlign "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("textAlign "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`textAlign
        options`),n("span",{class:"token punctuation"},"."),s("lineHeight "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("lineHeight "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`lineHeight
        options`),n("span",{class:"token punctuation"},"."),s("stroke "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("stroke "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`stroke
        options`),n("span",{class:"token punctuation"},"."),s("strokeWidth "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("strokeWidth "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token number"},"2"),s(`
        `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s("objects"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token operator"},"..."),s("restOptions"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(" options "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(`
            id`),n("span",{class:"token punctuation"},","),s(" width"),n("span",{class:"token punctuation"},","),s(" height"),n("span",{class:"token punctuation"},","),s(" fill"),n("span",{class:"token punctuation"},","),s(" fontSize"),n("span",{class:"token punctuation"},","),s(" textAlign"),n("span",{class:"token punctuation"},","),s(" lineHeight"),n("span",{class:"token punctuation"},","),s(" stroke"),n("span",{class:"token punctuation"},","),s(` strokeWidth
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(` options
        `),n("span",{class:"token keyword"},"const"),s(" defaultShapeOptions "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'rect'"),n("span",{class:"token punctuation"},","),s(`
            width`),n("span",{class:"token punctuation"},","),s(`
            height`),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"fill"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},","),s(`
            stroke`),n("span",{class:"token punctuation"},","),s(`
            strokeWidth
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" defaultTextOptions "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'textbox'"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"width"),n("span",{class:"token operator"},":"),s(" width "),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token constant"},"DEFAULT_SHAPE_PADDING_X"),n("span",{class:"token punctuation"},","),s(`
            fontSize`),n("span",{class:"token punctuation"},","),s(`
            fill`),n("span",{class:"token punctuation"},","),s(`
            textAlign`),n("span",{class:"token punctuation"},","),s(`
            lineHeight`),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"stroke"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"strokeWidth"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"originX"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'center'"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"originY"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'center'"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        options`),n("span",{class:"token punctuation"},"."),s("objects "),n("span",{class:"token operator"},"="),s(" options"),n("span",{class:"token punctuation"},"."),s("objects "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token punctuation"},"["),s(`
            defaultShapeOptions`),n("span",{class:"token punctuation"},","),s(`
            defaultTextOptions
        `),n("span",{class:"token punctuation"},"]"),s(`

        `),n("span",{class:"token keyword"},"const"),s(" shapeOptions "),n("span",{class:"token operator"},"="),s(" objects"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"||"),s(` defaultShapeOptions
        `),n("span",{class:"token keyword"},"const"),s(" textOptions "),n("span",{class:"token operator"},"="),s(" objects"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"||"),s(` defaultTextOptions

        shapeOptions`),n("span",{class:"token punctuation"},"."),s("width "),n("span",{class:"token operator"},"="),s(` width
        shapeOptions`),n("span",{class:"token punctuation"},"."),s("height "),n("span",{class:"token operator"},"="),s(` height
        shapeOptions`),n("span",{class:"token punctuation"},"."),s("fill "),n("span",{class:"token operator"},"="),s(" shapeOptions"),n("span",{class:"token punctuation"},"."),s("fill "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token string"},"''"),s(`
        shapeOptions`),n("span",{class:"token punctuation"},"."),s("stroke "),n("span",{class:"token operator"},"="),s(" shapeOptions"),n("span",{class:"token punctuation"},"."),s("stroke "),n("span",{class:"token operator"},"||"),s(` stroke
        shapeOptions`),n("span",{class:"token punctuation"},"."),s("strokeWidth "),n("span",{class:"token operator"},"="),s(" shapeOptions"),n("span",{class:"token punctuation"},"."),s("strokeWidth "),n("span",{class:"token operator"},"||"),s(` strokeWidth

        `),n("span",{class:"token keyword"},"let"),s(" shape "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("fabric"),n("span",{class:"token punctuation"},"."),s("Rect")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token operator"},"..."),s("shapeOptions"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"id"),n("span",{class:"token operator"},":"),s(" id "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'_rect'"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"left"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"top"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"strokeUniform"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`

        textOptions`),n("span",{class:"token punctuation"},"."),s("text "),n("span",{class:"token operator"},"="),s(" textOptions"),n("span",{class:"token punctuation"},"."),s("text "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token string"},"''"),s(`
        textOptions`),n("span",{class:"token punctuation"},"."),s("width "),n("span",{class:"token operator"},"="),s(" width "),n("span",{class:"token operator"},"-"),s(" strokeWidth "),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token number"},"2"),s(`
        textOptions`),n("span",{class:"token punctuation"},"."),s("fill "),n("span",{class:"token operator"},"="),s(" textOptions"),n("span",{class:"token punctuation"},"."),s("fill "),n("span",{class:"token operator"},"||"),s(` fill
        textOptions`),n("span",{class:"token punctuation"},"."),s("fontSize "),n("span",{class:"token operator"},"="),s(" textOptions"),n("span",{class:"token punctuation"},"."),s("fontSize "),n("span",{class:"token operator"},"||"),s(` fontSize
        textOptions`),n("span",{class:"token punctuation"},"."),s("textAlign "),n("span",{class:"token operator"},"="),s(" textOptions"),n("span",{class:"token punctuation"},"."),s("textAlign "),n("span",{class:"token operator"},"||"),s(` textAlign
        textOptions`),n("span",{class:"token punctuation"},"."),s("lineHeight "),n("span",{class:"token operator"},"="),s(" textOptions"),n("span",{class:"token punctuation"},"."),s("lineHeight "),n("span",{class:"token operator"},"||"),s(` lineHeight

        `),n("span",{class:"token keyword"},"let"),s(" text "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},[s("fabric"),n("span",{class:"token punctuation"},"."),s("Textbox")]),n("span",{class:"token punctuation"},"("),s("textOptions"),n("span",{class:"token punctuation"},"."),s("text"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token operator"},"..."),s("textOptions"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"id"),n("span",{class:"token operator"},":"),s(" id "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'_text'"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"top"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),s("height "),n("span",{class:"token operator"},"+"),s(" strokeWidth"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"/"),s(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"left"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),s("width "),n("span",{class:"token operator"},"+"),s(" strokeWidth"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"/"),s(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"stroke"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"strokeWidth"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"splitByGrapheme"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"strokeUniform"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"originX"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'center'"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"originY"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'center'"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" group "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),s("shape"),n("span",{class:"token punctuation"},","),s(" text"),n("span",{class:"token punctuation"},"]"),s(`
        `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"callSuper"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'initialize'"),n("span",{class:"token punctuation"},","),s(" group"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token operator"},"..."),s("restOptions"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"strokeWidth"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"strokeUniform"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token comment"},"// useSetOnGroup: true,"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" isAlreadyGrouped"),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"on"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'mousedblclick'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"dblclickEditing"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function-variable function"},"_set"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("key"),n("span",{class:"token punctuation"},","),s(" value")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" i "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("_objects"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("useSetOnGroup"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token operator"},"--"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("_objects"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setOnGroup"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("key "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'canvas'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token operator"},"--"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("_objects"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"_set"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        fabric`),n("span",{class:"token punctuation"},"."),n("span",{class:"token class-name"},"Object"),n("span",{class:"token punctuation"},"."),s("prototype"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"_set"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"call"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},","),s(" key"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function-variable function"},"set"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("key"),n("span",{class:"token punctuation"},","),s(" value")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"callSuper"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'set'"),n("span",{class:"token punctuation"},","),s(" key"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
fabric`),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},"."),s("object"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"extend"),n("span",{class:"token punctuation"},"("),s("fabric"),n("span",{class:"token punctuation"},"."),n("span",{class:"token class-name"},"RectText"),n("span",{class:"token punctuation"},"."),s("prototype"),n("span",{class:"token punctuation"},","),s(" TempText"),n("span",{class:"token punctuation"},")"),s(`
fabric`),n("span",{class:"token punctuation"},"."),s("RectText"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function-variable function"},"fromObject"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("object"),n("span",{class:"token punctuation"},","),s(" callback")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(" fabric"),n("span",{class:"token punctuation"},"."),s("Object"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"_fromObject"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'RectText'"),n("span",{class:"token punctuation"},","),s(" object"),n("span",{class:"token punctuation"},","),s(" callback"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),E=n("div",{class:"language-javascript","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("fabric"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"fabric"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"const"),s(" TempText "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// 文字样式相关属性"),s(`
    `),n("span",{class:"token literal-property property"},"textStyleProperties"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'fill'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'fontSize'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'lineHeight'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'textAlign'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token comment"},"// 计算临时文本对象的变换"),s(`
    `),n("span",{class:"token function"},"calcTempTextTransform"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// const text = this.items(1)"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" text "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getObjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'textbox'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(`
        `),n("span",{class:"token comment"},"// 便签矩阵"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" groupMatrix "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"calcTransformMatrix"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"// 便签矩阵逆变换"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" invertMatrix "),n("span",{class:"token operator"},"="),s(" fabric"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invertTransform"),n("span",{class:"token punctuation"},"("),s("groupMatrix"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"// 文本矩阵"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" textMatrix "),n("span",{class:"token operator"},"="),s(" text"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"calcTransformMatrix"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"// 矩阵嵌套"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" desiredMatrix "),n("span",{class:"token operator"},"="),s(" fabric"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"multiplyTransformMatrices"),n("span",{class:"token punctuation"},"("),s("invertMatrix"),n("span",{class:"token punctuation"},","),s(" textMatrix"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"// 新的矩阵"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" newMatrix "),n("span",{class:"token operator"},"="),s(" fabric"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"multiplyTransformMatrices"),n("span",{class:"token punctuation"},"("),s("groupMatrix"),n("span",{class:"token punctuation"},","),s(" desiredMatrix"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"// 矩阵分解为变换量"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" qr "),n("span",{class:"token operator"},"="),s(" fabric"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"qrDecompose"),n("span",{class:"token punctuation"},"("),s("newMatrix"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(` qr
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token comment"},"// 计算临时文本对象的位置"),s(`
    `),n("span",{class:"token function"},"calcTempTextPosition"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" absoluteLeft"),n("span",{class:"token punctuation"},","),s(` absoluteTop
        `),n("span",{class:"token keyword"},"const"),s(" text "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getObjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'textbox'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" center "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getCenterPoint"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" textCenter "),n("span",{class:"token operator"},"="),s(" text"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getCenterPoint"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'thisCenter'"),n("span",{class:"token punctuation"},","),s(" center"),n("span",{class:"token punctuation"},")"),s(`
        console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'textCenter'"),n("span",{class:"token punctuation"},","),s(" textCenter"),n("span",{class:"token punctuation"},")"),s(`
        absoluteLeft `),n("span",{class:"token operator"},"="),s(" center"),n("span",{class:"token punctuation"},"."),s("x "),n("span",{class:"token operator"},"+"),s(" textCenter"),n("span",{class:"token punctuation"},"."),s("x "),n("span",{class:"token operator"},"*"),s(" text"),n("span",{class:"token punctuation"},"."),s(`scaleX
        absoluteTop `),n("span",{class:"token operator"},"="),s(" center"),n("span",{class:"token punctuation"},"."),s("y "),n("span",{class:"token operator"},"+"),s(" textCenter"),n("span",{class:"token punctuation"},"."),s("y "),n("span",{class:"token operator"},"*"),s(" text"),n("span",{class:"token punctuation"},"."),s(`scaleY
        `),n("span",{class:"token keyword"},"const"),s(" group "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`group
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("group"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s("scaleX"),n("span",{class:"token punctuation"},","),s(" scaleY"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(` group
            `),n("span",{class:"token keyword"},"const"),s(" groupCenter "),n("span",{class:"token operator"},"="),s(" group"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getCenterPoint"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'groupCenter'"),n("span",{class:"token punctuation"},","),s(" groupCenter"),n("span",{class:"token punctuation"},")"),s(`
            absoluteLeft `),n("span",{class:"token operator"},"="),s(" absoluteLeft "),n("span",{class:"token operator"},"*"),s(" scaleX "),n("span",{class:"token operator"},"+"),s(" groupCenter"),n("span",{class:"token punctuation"},"."),s(`x
            absoluteTop `),n("span",{class:"token operator"},"="),s(" absoluteTop "),n("span",{class:"token operator"},"*"),s(" scaleY "),n("span",{class:"token operator"},"+"),s(" groupCenter"),n("span",{class:"token punctuation"},"."),s(`y
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token literal-property property"},"left"),n("span",{class:"token operator"},":"),s(" absoluteLeft"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token literal-property property"},"top"),n("span",{class:"token operator"},":"),s(` absoluteTop
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token comment"},"// 双击编辑文本方法"),s(`
    `),n("span",{class:"token function"},"dblclickEditing"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" text "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getObjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'textbox'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(`
        `),n("span",{class:"token comment"},"// console.log('text', text)"),s(`

        `),n("span",{class:"token comment"},"// 创建临时编辑文本复制对象"),s(`
        `),n("span",{class:"token keyword"},"let"),s(` cloneText
        text`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"obj"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// console.log('clone', obj)"),s(`
            `),n("span",{class:"token keyword"},"let"),s(" tempPath "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'/'"),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'/'"),s(),n("span",{class:"token operator"},"+"),s(" obj"),n("span",{class:"token punctuation"},"."),s(`id
            `),n("span",{class:"token keyword"},"let"),s(" tempType "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s(`type
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("group"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                tempPath `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'/'"),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("group"),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token operator"},"+"),s(` tempPath
                tempType `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("group"),n("span",{class:"token punctuation"},"."),s(`type
            `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token comment"},"// 标识为临时文本对象"),s(`
            obj`),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'temp_'"),s(),n("span",{class:"token operator"},"+"),s(" obj"),n("span",{class:"token punctuation"},"."),s(`id
            `),n("span",{class:"token comment"},"// 临时文本元素层级路径"),s(`
            obj`),n("span",{class:"token punctuation"},"."),s("tempPath "),n("span",{class:"token operator"},"="),s(` tempPath
            `),n("span",{class:"token comment"},"// 临时文本类型（顶层元素类型）"),s(`
            obj`),n("span",{class:"token punctuation"},"."),s("tempType "),n("span",{class:"token operator"},"="),s(` tempType
            `),n("span",{class:"token keyword"},"const"),s(" pos "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"calcTempTextPosition"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"const"),s(" qr "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"calcTempTextTransform"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            obj`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token operator"},"..."),s("pos"),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token operator"},"..."),s(`qr
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
            cloneText `),n("span",{class:"token operator"},"="),s(` obj
            `),n("span",{class:"token comment"},"// 原始文本对象暂时隐藏"),s(`
            text`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'visible'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token comment"},"// 开始编辑"),s(`
            cloneText`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"on"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'editing:entered'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"fireEvent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'editing:entered'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token literal-property property"},"target"),n("span",{class:"token operator"},":"),s(" cloneText"),n("span",{class:"token punctuation"},","),s(`
                    `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(` tempPath
                `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`

            `),n("span",{class:"token comment"},"// 编辑中"),s(`
            cloneText`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"on"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'changed'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"const"),s(" value "),n("span",{class:"token operator"},"="),s(" cloneText"),n("span",{class:"token punctuation"},"."),s(`text
                text`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'text'"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"fireEvent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'changed'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s("value"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`

            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
            cloneText`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"on"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'editing:exited'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token comment"},"// 退出编辑状态， 将临时文本对象text值赋给原始文本对象"),s(`
                `),n("span",{class:"token comment"},"// console.log('editing:exited', cloneText.text)"),s(`
                `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s("fontSize"),n("span",{class:"token punctuation"},","),s(" fill"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(` cloneText
                text`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
                    fontSize`),n("span",{class:"token punctuation"},","),s(`
                    fill`),n("span",{class:"token punctuation"},","),s(`
                    `),n("span",{class:"token literal-property property"},"visible"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),s(`
                `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token comment"},"// 移除临时文本对象"),s(`
                `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("canvas"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),s("cloneText"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("canvas"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"requestRenderAll"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

                `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"fireEvent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'editing:exited'"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`

            `),n("span",{class:"token comment"},"// 将临时文本对象加入画布，并激活，选中进入编辑态"),s(`
            `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("canvas"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),s("cloneText"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("canvas"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setActiveObject"),n("span",{class:"token punctuation"},"("),s("cloneText"),n("span",{class:"token punctuation"},")"),s(`
            cloneText`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'hasBorders'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),s(`
            cloneText`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"selectAll"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            cloneText`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"enterEditing"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"fireEvent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("type"),n("span",{class:"token punctuation"},","),s(" payload")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("canvas"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"fire"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'temp:text:'"),s(),n("span",{class:"token operator"},"+"),s(" type"),n("span",{class:"token punctuation"},","),s(" payload"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"setText"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("key"),n("span",{class:"token punctuation"},","),s(" value")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" key "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'string'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'text'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token operator"},"..."),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("textStyleProperties"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("value"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"return"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("key "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'text'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setTextValue"),n("span",{class:"token punctuation"},"("),s("value"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("textStyleProperties"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setTextStyle"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" key "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'object'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"const"),s(" _key "),n("span",{class:"token keyword"},"in"),s(" key"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'text'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token operator"},"..."),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("textStyleProperties"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("key"),n("span",{class:"token punctuation"},"["),s("_key"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"return"),s(`
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("_key "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'text'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setTextValue"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},"["),s("_key"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(`
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("textStyleProperties"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"includes"),n("span",{class:"token punctuation"},"("),s("_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setTextStyle"),n("span",{class:"token punctuation"},"("),s("_key"),n("span",{class:"token punctuation"},","),s(" key"),n("span",{class:"token punctuation"},"["),s("_key"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token doc-comment comment"},`/**
     * 设置文本值
     */`),s(`
    `),n("span",{class:"token function-variable function"},"setTextValue"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"value"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" text "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getObjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'textbox'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(`
        text `),n("span",{class:"token operator"},"&&"),s(" text"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'text'"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 设置文本样式
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"key"),s(` fill | fontSize
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"value"),s(`
     */`)]),s(`
    `),n("span",{class:"token function-variable function"},"setTextStyle"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("key"),n("span",{class:"token punctuation"},","),s(" value")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("value"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"return"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" text "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getObjects"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'textbox'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(`
        text `),n("span",{class:"token operator"},"&&"),s(" text"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1);function U(Q,q){const c=o("VuePlayground"),t=o("ExternalLinkIcon"),l=o("CodeTabs");return d(),y("div",null,[f,g,a(c,{title:"vue%403.2.47%20%2B%20fabric%405.3.0",key:"74bb39da",settings:"%7B%7D",files:"eyJBcHAudnVlIjoiXG48c2NyaXB0IHNldHVwPlxuaW1wb3J0IHtvbk1vdW50ZWQsIHJlZiwgbWFya1Jhd30gZnJvbSAndnVlJ1xuaW1wb3J0IHtmYWJyaWN9IGZyb20gJ2ZhYnJpYydcblxubGV0IGNhbnZhc1xuXG5vbk1vdW50ZWQoKCkgPT4ge1xuICAvLyDwn5Kh6ZyA5L2%2F55SobWFya1Jhd1xuICBjYW52YXMgPSBtYXJrUmF3KG5ldyBmYWJyaWMuQ2FudmFzKCdjYW52YXMnLCB7XG4gICAgd2lkdGg6IDM1MCxcbiAgICBoZWlnaHQ6IDI0MixcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjFmMWYxJ1xuICB9KSlcbiAgYWRkVGV4dGJveCgpXG4gIGFkZFJlY3QoKVxuICBhZGRDaXJjbGUoKVxufSlcblxuZnVuY3Rpb24gYWRkVGV4dGJveCgpIHtcbiAgY29uc3QgdGV4dCA9IG5ldyBmYWJyaWMuVGV4dGJveCgnSGVsbG8gZmFicmljJywge1xuICAgIHRvcDogMjAsXG4gICAgbGVmdDogMjAsXG4gICAgd2lkdGg6IDEwMCxcbiAgICBmb250U2l6ZTogMTYsXG4gICAgZmlsbDogJyMzZWFmN2MnLFxuICB9KVxuICBjYW52YXMuYWRkKHRleHQpXG59XG5cbmZ1bmN0aW9uIGFkZFJlY3QoKSB7XG4gIGNvbnN0IHJlY3QgPSBuZXcgZmFicmljLlJlY3Qoe1xuICAgIHRvcDogMTAwLFxuICAgIGxlZnQ6IDEwMCxcbiAgICBmaWxsOiAnb3JhbmdlJyxcbiAgICB3aWR0aDogNTAsXG4gICAgaGVpZ2h0OiA1MFxuICB9KVxuICBjYW52YXMuYWRkKHJlY3QpXG59XG5cbmZ1bmN0aW9uIGFkZENpcmNsZSgpIHtcbiAgY29uc3QgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICAgIHJhZGl1czogMzAsXG4gICAgZmlsbDogJyM0RkMzRjcnLFxuICAgIHRvcDogMzAsXG4gICAgbGVmdDogMTAwLFxuICAgIG9wYWNpdHk6IDAuNyxcbiAgICBzdHJva2U6ICdibHVlJyxcbiAgICBzdHJva2VXaWR0aDogMyxcbiAgICBzdHJva2VVbmlmb3JtOiB0cnVlXG4gIH0pXG4gIGNhbnZhcy5hZGQoY2lyY2xlKVxuICBjYW52YXMucmVxdWVzdFJlbmRlckFsbCgpXG59XG48L3NjcmlwdD5cbjx0ZW1wbGF0ZT5cbiAgPGNhbnZhcyBpZD1cImNhbnZhc1wiLz5cbjwvdGVtcGxhdGU%2BXG4iLCJpbXBvcnQtbWFwLmpzb24iOiJ7XG4gIFwiaW1wb3J0c1wiOiB7XG4gICAgXCJmYWJyaWNcIjogXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2ZhYnJpY0A1LjMuMC8rZXNtXCJcbiAgfVxufVxuIn0%3D"}),h,n("div",b,[w,n("p",null,[s("参考："),n("a",x,[s("https://www.hangge.com/blog/cache/detail_1861.html"),a(t)])])]),v,n("div",j,[_,n("p",null,[s("参考："),n("a",O,[s("https://github.com/fabricjs/fabric.js/wiki/How-to-set-additional-properties-in-all-fabric.Objects"),a(t)])])]),T,n("div",A,[G,I,C,n("ul",Y,[n("li",X,[S,n("label",W,[n("a",J,[s("JELLY | 图形编程 Fabric.js 复合图形实现记录"),a(t)])])]),n("li",M,[V,n("label",B,[n("a",R,[s("JELLY | 聊聊 fabric.js Group 对象"),a(t)])])]),n("li",Z,[F,n("label",H,[s(" v6版本"),P,s("将重写，"),z,s("内"),L,s("编辑功能不受影响，"),n("a",N,[s("beta预览"),a(t)])])])])]),a(l,{id:"98",data:[{title:"RectText.class.js"},{title:"tempText.mixin.js"}],"tab-id":"js"},{tab0:e(({title:u,value:k,isActive:i})=>[D]),tab1:e(({title:u,value:k,isActive:i})=>[E]),_:1},8,["data"])])}const $=r(m,[["render",U],["__file","vue.html.vue"]]);export{$ as default};
